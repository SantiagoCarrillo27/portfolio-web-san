---
import LogoProfile from "./LogoProfile.astro";
import ThemeToggle from "./ThemeToggle.astro";
---

<header
  class="sticky top-0 flex justify-between items-center bg-opacity-80 dark:bg-opacity-80 backdrop-blur-lg overflow-hidden px-5 py-2 z-50"
>
  <div
    id="logoText"
    class="flex items-center justify-center gap-x-3 translate-y-15 opacity-0 transition-all duration-300"
  >
    <LogoProfile
      class="w-13 h-13 cursor-pointer bg-sky-100 rounded-full border-3 dark:border-4 border-white shadow-lg dark:border-gray-900/90 dark:bg-gray-700/60"
    />
    <h1
      class="text-xl font-semibold whitespace-nowrap text-black/80 dark:text-slate-200"
    >
      Santiago CS.
    </h1>
  </div>

  <nav class="flex justify-end">
    <ThemeToggle />
  </nav>
</header>

<script>
  const logoText = document.getElementById("logoText");

  window.addEventListener("scroll", () => {
    if (logoText) {
      if (window.scrollY > 265) {
        logoText.classList.remove("translate-y-15", "opacity-0");
      } else {
        logoText.classList.add("translate-y-15", "opacity-0");
      }
    }
  });
</script>
